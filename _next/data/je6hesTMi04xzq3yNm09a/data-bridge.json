{"pageProps":{"entry":{"title":"Data bridge","description":"Learn how to wire your data with us.","date":"2023-04-20T14:15:47.659Z","draft":false,"id":"data-bridge","content":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Data bridge","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":14,"offset":13}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":14,"offset":13}}},{"type":"paragraph","children":[{"type":"text","value":"As per the ingestion schema, we have two ways to synchronize the data with our customers: ","position":{"start":{"line":3,"column":1,"offset":15},"end":{"line":3,"column":91,"offset":105}}},{"type":"strong","children":[{"type":"text","value":"push","position":{"start":{"line":3,"column":93,"offset":107},"end":{"line":3,"column":97,"offset":111}}}],"position":{"start":{"line":3,"column":91,"offset":105},"end":{"line":3,"column":99,"offset":113}}},{"type":"text","value":" mode.","position":{"start":{"line":3,"column":99,"offset":113},"end":{"line":3,"column":105,"offset":119}}}],"position":{"start":{"line":3,"column":1,"offset":15},"end":{"line":3,"column":105,"offset":119}}},{"type":"paragraph","children":[{"type":"text","value":"The push mode is preferably the one we want to promote since it allows to have realtime ingestion of the data and to have less stress on\nour infrastructure.","position":{"start":{"line":5,"column":1,"offset":121},"end":{"line":6,"column":20,"offset":277}}}],"position":{"start":{"line":5,"column":1,"offset":121},"end":{"line":6,"column":20,"offset":277}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"First task !","position":{"start":{"line":8,"column":4,"offset":282},"end":{"line":8,"column":16,"offset":294}}}],"position":{"start":{"line":8,"column":1,"offset":279},"end":{"line":8,"column":16,"offset":294}}},{"type":"paragraph","children":[{"type":"text","value":"You can send us data using the token retrieved by the previous call and your ","position":{"start":{"line":10,"column":1,"offset":296},"end":{"line":10,"column":78,"offset":373}}},{"type":"inlineCode","value":"ML_PROJECT","position":{"start":{"line":10,"column":78,"offset":373},"end":{"line":10,"column":90,"offset":385}}},{"type":"text","value":" code.","position":{"start":{"line":10,"column":90,"offset":385},"end":{"line":10,"column":96,"offset":391}}}],"position":{"start":{"line":10,"column":1,"offset":296},"end":{"line":10,"column":96,"offset":391}}},{"type":"paragraph","children":[{"type":"text","value":"If you don't have this click ","position":{"start":{"line":12,"column":1,"offset":393},"end":{"line":12,"column":30,"offset":422}}},{"type":"link","title":null,"url":"/authentication","children":[{"type":"text","value":"here","position":{"start":{"line":12,"column":31,"offset":423},"end":{"line":12,"column":35,"offset":427}}}],"position":{"start":{"line":12,"column":30,"offset":422},"end":{"line":12,"column":53,"offset":445}}},{"type":"text","value":".","position":{"start":{"line":12,"column":53,"offset":445},"end":{"line":12,"column":54,"offset":446}}}],"position":{"start":{"line":12,"column":1,"offset":393},"end":{"line":12,"column":54,"offset":446}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Push mode through our HTTPS API","position":{"start":{"line":14,"column":4,"offset":451},"end":{"line":14,"column":35,"offset":482}}}],"position":{"start":{"line":14,"column":1,"offset":448},"end":{"line":14,"column":35,"offset":482}}},{"type":"paragraph","children":[{"type":"text","value":"The postOrganisationData endpoint allows users to send us some data. To do so, they need a ","position":{"start":{"line":16,"column":1,"offset":484},"end":{"line":16,"column":92,"offset":575}}},{"type":"inlineCode","value":"APPLICATION_ID/SECRET","position":{"start":{"line":16,"column":92,"offset":575},"end":{"line":16,"column":115,"offset":598}}},{"type":"text","value":" couple.","position":{"start":{"line":16,"column":115,"offset":598},"end":{"line":16,"column":123,"offset":606}}}],"position":{"start":{"line":16,"column":1,"offset":484},"end":{"line":16,"column":123,"offset":606}}},{"type":"paragraph","children":[{"type":"text","value":"You can generate one by running:","position":{"start":{"line":18,"column":1,"offset":608},"end":{"line":18,"column":33,"offset":640}}}],"position":{"start":{"line":18,"column":1,"offset":608},"end":{"line":18,"column":33,"offset":640}}},{"type":"code","lang":"sh","meta":null,"value":"curl -X \"POST\"\n    -H \"Authorization: bearer access_token\"\n    https://api.diagrams-technologies.com/v0/organisations/ORGANISATION_ID/data/ML_PROJECT\n    -H -H \"Content-Type: application/json\"\n    -d \"[{\\\"sensorId\\\":\\\"1\\\",\\\"date\\\":\\\"2020-01-01T08:03:51.000Z\\\",\\\"value\\\":19.9},{\\\"sensorId\\\":\\\"2\\\",\\\"date\\\":\\\"2020-01-01T08:03:51.000Z\\\",\\\"value\\\":0},{\\\"sensorId\\\":\\\"3\\\",\\\"date\\\":\\\"2020-01-01T08:03:51.000Z\\\",\\\"value\\\":\\\"1\\\"}]\"","position":{"start":{"line":20,"column":1,"offset":642},"end":{"line":26,"column":4,"offset":1075}}},{"type":"paragraph","children":[{"type":"text","value":"In this call, it suffices to provide us with a list of triples containing:","position":{"start":{"line":28,"column":1,"offset":1077},"end":{"line":28,"column":75,"offset":1151}}}],"position":{"start":{"line":28,"column":1,"offset":1077},"end":{"line":28,"column":75,"offset":1151}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"a ","position":{"start":{"line":29,"column":3,"offset":1154},"end":{"line":29,"column":5,"offset":1156}}},{"type":"strong","children":[{"type":"text","value":"sensorId","position":{"start":{"line":29,"column":7,"offset":1158},"end":{"line":29,"column":15,"offset":1166}}}],"position":{"start":{"line":29,"column":5,"offset":1156},"end":{"line":29,"column":17,"offset":1168}}},{"type":"text","value":": allowing to uniquely identify a sensor thanks to a character string,","position":{"start":{"line":29,"column":17,"offset":1168},"end":{"line":29,"column":87,"offset":1238}}}],"position":{"start":{"line":29,"column":3,"offset":1154},"end":{"line":29,"column":87,"offset":1238}}}],"position":{"start":{"line":29,"column":1,"offset":1152},"end":{"line":29,"column":87,"offset":1238}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"an optional ","position":{"start":{"line":30,"column":3,"offset":1241},"end":{"line":30,"column":15,"offset":1253}}},{"type":"strong","children":[{"type":"text","value":"valueName","position":{"start":{"line":30,"column":17,"offset":1255},"end":{"line":30,"column":26,"offset":1264}}}],"position":{"start":{"line":30,"column":15,"offset":1253},"end":{"line":30,"column":28,"offset":1266}}},{"type":"text","value":" field: corresponding to a value associated with the sensor for a specific variable (by default \"none\"), it is useful for example to indicate the x/y/z axes of an accelerometer. This field can only contain lowercase letters, numbers or an underscore (_),","position":{"start":{"line":30,"column":28,"offset":1266},"end":{"line":30,"column":292,"offset":1530}}}],"position":{"start":{"line":30,"column":3,"offset":1241},"end":{"line":30,"column":292,"offset":1530}}}],"position":{"start":{"line":30,"column":1,"offset":1239},"end":{"line":30,"column":292,"offset":1530}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A ","position":{"start":{"line":31,"column":3,"offset":1533},"end":{"line":31,"column":5,"offset":1535}}},{"type":"strong","children":[{"type":"text","value":"date","position":{"start":{"line":31,"column":7,"offset":1537},"end":{"line":31,"column":11,"offset":1541}}}],"position":{"start":{"line":31,"column":5,"offset":1535},"end":{"line":31,"column":13,"offset":1543}}},{"type":"text","value":": indicating the UTC date of the reading in ISO format (UTC => universal time, very important for what follows),","position":{"start":{"line":31,"column":13,"offset":1543},"end":{"line":31,"column":125,"offset":1655}}}],"position":{"start":{"line":31,"column":3,"offset":1533},"end":{"line":31,"column":125,"offset":1655}}}],"position":{"start":{"line":31,"column":1,"offset":1531},"end":{"line":31,"column":125,"offset":1655}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"a ","position":{"start":{"line":32,"column":3,"offset":1658},"end":{"line":32,"column":5,"offset":1660}}},{"type":"strong","children":[{"type":"text","value":"value","position":{"start":{"line":32,"column":7,"offset":1662},"end":{"line":32,"column":12,"offset":1667}}}],"position":{"start":{"line":32,"column":5,"offset":1660},"end":{"line":32,"column":14,"offset":1669}}},{"type":"text","value":": corresponding to its value at this time, this value must imperatively be a number (a value like ","position":{"start":{"line":32,"column":14,"offset":1669},"end":{"line":32,"column":112,"offset":1767}}},{"type":"strong","children":[{"type":"text","value":"value: '3.14'","position":{"start":{"line":32,"column":114,"offset":1769},"end":{"line":32,"column":127,"offset":1782}}}],"position":{"start":{"line":32,"column":112,"offset":1767},"end":{"line":32,"column":129,"offset":1784}}},{"type":"text","value":" will be refused, use ","position":{"start":{"line":32,"column":129,"offset":1784},"end":{"line":32,"column":151,"offset":1806}}},{"type":"strong","children":[{"type":"text","value":"value: 3.14","position":{"start":{"line":32,"column":153,"offset":1808},"end":{"line":32,"column":164,"offset":1819}}}],"position":{"start":{"line":32,"column":151,"offset":1806},"end":{"line":32,"column":166,"offset":1821}}},{"type":"text","value":" instead),","position":{"start":{"line":32,"column":166,"offset":1821},"end":{"line":32,"column":176,"offset":1831}}}],"position":{"start":{"line":32,"column":3,"offset":1658},"end":{"line":32,"column":176,"offset":1831}}}],"position":{"start":{"line":32,"column":1,"offset":1656},"end":{"line":32,"column":176,"offset":1831}}}],"position":{"start":{"line":29,"column":1,"offset":1152},"end":{"line":32,"column":176,"offset":1831}}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Warning","position":{"start":{"line":34,"column":3,"offset":1835},"end":{"line":34,"column":10,"offset":1842}}}],"position":{"start":{"line":34,"column":1,"offset":1833},"end":{"line":34,"column":12,"offset":1844}}},{"type":"text","value":": the pair sensorId/valueName must be unique for each sensor.\nOnce put into production, these names must not change without prior consultation with our teams to update our correspondence tables.","position":{"start":{"line":34,"column":12,"offset":1844},"end":{"line":35,"column":134,"offset":2039}}}],"position":{"start":{"line":34,"column":1,"offset":1833},"end":{"line":35,"column":134,"offset":2039}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":36,"column":1,"offset":2040}}}}},"__N_SSG":true}