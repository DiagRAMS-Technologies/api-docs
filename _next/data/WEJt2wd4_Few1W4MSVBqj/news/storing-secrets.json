{"pageProps":{"entry":{"title":"Considerations for storing secrets","description":"When using the DiagRAMS API you will need to store our application id/secret pair, here are some key principles to keep in mind.","leafname":"storing-secrets","date":"2023-06-05T11:00:00Z","draft":false,"illustration":{"url":"illustrations/StoringSecrets.jpg","alt":"Picture of storing secrets"},"id":"storing-secrets","content":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Storing secrets","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":18,"offset":17}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":18,"offset":17}}},{"type":"paragraph","children":[{"type":"text","value":"When integrating a client with your application, it is often necessary to share and store application credentials (APPLICATION_ID/APPLICATION_SECRET) to enable secure communication with external APIs. It is essential to follow best practices to protect this sensitive information and avoid security breaches. This page outlines key recommendations for storing and exchanging application credentials securely.","position":{"start":{"line":3,"column":1,"offset":19},"end":{"line":3,"column":409,"offset":427}}}],"position":{"start":{"line":3,"column":1,"offset":19},"end":{"line":3,"column":409,"offset":427}}},{"type":"paragraph","children":[{"type":"text","value":"Protecting application credentials is critical to keep your application and customer data secure. By following the best practices outlined on this page, you can reduce the risk of compromised credentials and increase the overall security of your systems.","position":{"start":{"line":5,"column":1,"offset":429},"end":{"line":5,"column":255,"offset":683}}}],"position":{"start":{"line":5,"column":1,"offset":429},"end":{"line":5,"column":255,"offset":683}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Use environment variables","position":{"start":{"line":7,"column":4,"offset":688},"end":{"line":7,"column":29,"offset":713}}}],"position":{"start":{"line":7,"column":1,"offset":685},"end":{"line":7,"column":29,"offset":713}}},{"type":"paragraph","children":[{"type":"text","value":"Environment variables are a common way to store application credentials outside of source code. They make them accessible only within the runtime environment and are particularly useful when deploying to servers or cloud services. Take care to never include application identifiers directly in the source code or configuration files.","position":{"start":{"line":9,"column":1,"offset":715},"end":{"line":9,"column":334,"offset":1048}}}],"position":{"start":{"line":9,"column":1,"offset":715},"end":{"line":9,"column":334,"offset":1048}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Limit access to credentials","position":{"start":{"line":11,"column":4,"offset":1053},"end":{"line":11,"column":31,"offset":1080}}}],"position":{"start":{"line":11,"column":1,"offset":1050},"end":{"line":11,"column":31,"offset":1080}}},{"type":"paragraph","children":[{"type":"text","value":"Grant access to application credentials only to the right people (least privilege principle).","position":{"start":{"line":13,"column":1,"offset":1082},"end":{"line":13,"column":94,"offset":1175}}}],"position":{"start":{"line":13,"column":1,"offset":1082},"end":{"line":13,"column":94,"offset":1175}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Use secrets management solutions","position":{"start":{"line":15,"column":4,"offset":1180},"end":{"line":15,"column":36,"offset":1212}}}],"position":{"start":{"line":15,"column":1,"offset":1177},"end":{"line":15,"column":36,"offset":1212}}},{"type":"paragraph","children":[{"type":"text","value":"Secrets management solutions, such as AWS Secrets Manager, Terraform Vault, provide advanced functionalities to securely store and manage application credentials. They provide mechanisms for encryption, auditing, and automatic secrets rotation. By using these solutions, you can centralize the credentials management and reduce risks related to their storage.","position":{"start":{"line":17,"column":1,"offset":1214},"end":{"line":17,"column":360,"offset":1573}}}],"position":{"start":{"line":17,"column":1,"offset":1214},"end":{"line":17,"column":360,"offset":1573}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Encrypt Application Secrets","position":{"start":{"line":19,"column":4,"offset":1578},"end":{"line":19,"column":31,"offset":1605}}}],"position":{"start":{"line":19,"column":1,"offset":1575},"end":{"line":19,"column":31,"offset":1605}}},{"type":"paragraph","children":[{"type":"text","value":"If you need to store application credentials in a database or file, be sure to encrypt them before. Use strong and secure encryption algorithms, and be sure to protect the encryption keys themselves. Ideally, use an asymmetric encryption mechanism with a secure private key.","position":{"start":{"line":21,"column":1,"offset":1607},"end":{"line":21,"column":275,"offset":1881}}}],"position":{"start":{"line":21,"column":1,"offset":1607},"end":{"line":21,"column":275,"offset":1881}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Exchanging secrets","position":{"start":{"line":23,"column":4,"offset":1886},"end":{"line":23,"column":22,"offset":1904}}}],"position":{"start":{"line":23,"column":1,"offset":1883},"end":{"line":23,"column":22,"offset":1904}}},{"type":"paragraph","children":[{"type":"text","value":"Exchanging secrets requires clear instructions to ensure the security of sensitive information. One of the recommended methods is to use PGP (Pretty Good Privacy) to encrypt and decrypt secrets. PGP is a widely used asymmetric cryptography system that ensures the confidentiality and authenticity of data exchanged.","position":{"start":{"line":25,"column":1,"offset":1906},"end":{"line":25,"column":316,"offset":2221}}}],"position":{"start":{"line":25,"column":1,"offset":1906},"end":{"line":25,"column":316,"offset":2221}}},{"type":"code","lang":"sh","meta":null,"value":"# You can encrypt your PGP key with:\ngpg --default-new-key-algo rsa4096 --gen-key\n\n# You can see all your access_key_secret with:\ngpg --list-secret-keys --keyid-format=long\n \n# You can decrypt with:\ngpg --export your_acces_key | base64 ","position":{"start":{"line":28,"column":1,"offset":2224},"end":{"line":37,"column":4,"offset":2470}}},{"type":"paragraph","children":[{"type":"text","value":"There are also free online platforms that specialize in trading secrets, but we do not recommend it. If you really need to use it, do not share the APPLICATION_SECRET and APPLICATION_ID in the same message and avoid any reference to the DiagRAMS API.","position":{"start":{"line":39,"column":1,"offset":2472},"end":{"line":39,"column":251,"offset":2722}}}],"position":{"start":{"line":39,"column":1,"offset":2472},"end":{"line":39,"column":251,"offset":2722}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Secret stolen?","position":{"start":{"line":41,"column":4,"offset":2727},"end":{"line":41,"column":18,"offset":2741}}}],"position":{"start":{"line":41,"column":1,"offset":2724},"end":{"line":41,"column":18,"offset":2741}}},{"type":"paragraph","children":[{"type":"text","value":"If you think your secret is compromised for any reason, please ","position":{"start":{"line":43,"column":1,"offset":2743},"end":{"line":43,"column":64,"offset":2806}}},{"type":"link","title":null,"url":"support@diagrams-technologies.com","children":[{"type":"text","value":"inform us","position":{"start":{"line":43,"column":65,"offset":2807},"end":{"line":43,"column":74,"offset":2816}}}],"position":{"start":{"line":43,"column":64,"offset":2806},"end":{"line":43,"column":110,"offset":2852}}},{"type":"text","value":" as soon as possible. We will instantly disable it and provide you with new credentials.","position":{"start":{"line":43,"column":110,"offset":2852},"end":{"line":43,"column":198,"offset":2940}}}],"position":{"start":{"line":43,"column":1,"offset":2743},"end":{"line":43,"column":198,"offset":2940}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":44,"column":1,"offset":2941}}}}},"__N_SSG":true}