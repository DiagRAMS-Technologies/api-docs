{"pageProps":{"entry":{"title":"Authentication","description":"Discover how to authenticate with our API","date":"2023-04-20T14:15:47.659Z","draft":false,"id":"authentication","content":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"API Auth guide","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":17,"offset":16}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":17,"offset":16}}},{"type":"paragraph","children":[{"type":"text","value":"Welcome to the API Authentication Guide!","position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":41,"offset":58}}}],"position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":41,"offset":58}}},{"type":"paragraph","children":[{"type":"text","value":"We're excited to have you onboard and help you get started with sending data to our API.","position":{"start":{"line":5,"column":1,"offset":60},"end":{"line":5,"column":89,"offset":148}}}],"position":{"start":{"line":5,"column":1,"offset":60},"end":{"line":5,"column":89,"offset":148}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"First task!","position":{"start":{"line":7,"column":4,"offset":153},"end":{"line":7,"column":15,"offset":164}}}],"position":{"start":{"line":7,"column":1,"offset":150},"end":{"line":7,"column":15,"offset":164}}},{"type":"paragraph","children":[{"type":"text","value":"To start sending us data, you will need the following information, ","position":{"start":{"line":9,"column":1,"offset":166},"end":{"line":9,"column":68,"offset":233}}},{"type":"link","title":null,"url":"mailto:support@diagrams-technologies.com?subject=application+credentials+request","children":[{"type":"text","value":"please contact us","position":{"start":{"line":9,"column":69,"offset":234},"end":{"line":9,"column":86,"offset":251}}}],"position":{"start":{"line":9,"column":68,"offset":233},"end":{"line":9,"column":169,"offset":334}}},{"type":"text","value":" if you didn't get them:","position":{"start":{"line":9,"column":169,"offset":334},"end":{"line":9,"column":193,"offset":358}}}],"position":{"start":{"line":9,"column":1,"offset":166},"end":{"line":9,"column":193,"offset":358}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ML_PROJECT","position":{"start":{"line":11,"column":3,"offset":362},"end":{"line":11,"column":15,"offset":374}}},{"type":"text","value":": the code of the anomaly detection project we created for you,","position":{"start":{"line":11,"column":15,"offset":374},"end":{"line":11,"column":78,"offset":437}}}],"position":{"start":{"line":11,"column":3,"offset":362},"end":{"line":11,"column":78,"offset":437}}}],"position":{"start":{"line":11,"column":1,"offset":360},"end":{"line":11,"column":78,"offset":437}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ORGANISATION_ID","position":{"start":{"line":12,"column":3,"offset":440},"end":{"line":12,"column":20,"offset":457}}},{"type":"text","value":": the organisation id of your company in our systems,","position":{"start":{"line":12,"column":20,"offset":457},"end":{"line":12,"column":73,"offset":510}}}],"position":{"start":{"line":12,"column":3,"offset":440},"end":{"line":12,"column":73,"offset":510}}}],"position":{"start":{"line":12,"column":1,"offset":438},"end":{"line":12,"column":73,"offset":510}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"APPLICATION_ID","position":{"start":{"line":13,"column":3,"offset":513},"end":{"line":13,"column":19,"offset":529}}},{"type":"text","value":": the id of the application we created for you,","position":{"start":{"line":13,"column":19,"offset":529},"end":{"line":13,"column":66,"offset":576}}}],"position":{"start":{"line":13,"column":3,"offset":513},"end":{"line":13,"column":66,"offset":576}}}],"position":{"start":{"line":13,"column":1,"offset":511},"end":{"line":13,"column":66,"offset":576}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"APPLICATION_SECRET","position":{"start":{"line":14,"column":3,"offset":579},"end":{"line":14,"column":23,"offset":599}}},{"type":"text","value":": a unique string to keep secret that authenticates you.","position":{"start":{"line":14,"column":23,"offset":599},"end":{"line":14,"column":79,"offset":655}}}],"position":{"start":{"line":14,"column":3,"offset":579},"end":{"line":14,"column":79,"offset":655}}}],"position":{"start":{"line":14,"column":1,"offset":577},"end":{"line":14,"column":79,"offset":655}}}],"position":{"start":{"line":11,"column":1,"offset":360},"end":{"line":14,"column":79,"offset":655}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Generate token","position":{"start":{"line":16,"column":4,"offset":660},"end":{"line":16,"column":18,"offset":674}}}],"position":{"start":{"line":16,"column":1,"offset":657},"end":{"line":16,"column":18,"offset":674}}},{"type":"paragraph","children":[{"type":"text","value":"You can now generate token with request:","position":{"start":{"line":18,"column":1,"offset":676},"end":{"line":18,"column":41,"offset":716}}}],"position":{"start":{"line":18,"column":1,"offset":676},"end":{"line":18,"column":41,"offset":716}}},{"type":"code","lang":"bash","meta":null,"value":"curl -X POST\n'https://api.diagrams-technologies.com/v0/oauth2token'\n-u\"APPLICATION_ID:APPLICATION_SECRET\"\n-H'Content-Type: application/x-www-form-urlencoded' --data-binary 'grant_type=client_credentials'","position":{"start":{"line":20,"column":1,"offset":718},"end":{"line":25,"column":4,"offset":933}}},{"type":"paragraph","children":[{"type":"text","value":"And here's the result of the request.","position":{"start":{"line":27,"column":1,"offset":935},"end":{"line":27,"column":38,"offset":972}}}],"position":{"start":{"line":27,"column":1,"offset":935},"end":{"line":27,"column":38,"offset":972}}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"access_token\": \"xxx.yyy.zzz\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 172800,\n  \"expiration_date\": \"2021-10-27T12:06:28.828Z\",\n  \"refresh_token\": \"xxxyyyzzzz==\",\n  \"refresh_token_expires_in\": 31557600,\n  \"refresh_token_expiration_date\": \"2022-10-25T18:06:28.849Z\"\n}","position":{"start":{"line":29,"column":1,"offset":974},"end":{"line":39,"column":4,"offset":1258}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Validity token","position":{"start":{"line":41,"column":4,"offset":1263},"end":{"line":41,"column":18,"offset":1277}}}],"position":{"start":{"line":41,"column":1,"offset":1260},"end":{"line":41,"column":18,"offset":1277}}},{"type":"paragraph","children":[{"type":"text","value":"The token is only valid for a certain duration (which can change depending on the load), after which it will have to be renewed by creating a new token or by renewing the previous one thanks to the ","position":{"start":{"line":43,"column":1,"offset":1279},"end":{"line":43,"column":199,"offset":1477}}},{"type":"inlineCode","value":"refresh_token","position":{"start":{"line":43,"column":199,"offset":1477},"end":{"line":43,"column":214,"offset":1492}}},{"type":"text","value":" associated with it:","position":{"start":{"line":43,"column":214,"offset":1492},"end":{"line":43,"column":234,"offset":1512}}}],"position":{"start":{"line":43,"column":1,"offset":1279},"end":{"line":43,"column":234,"offset":1512}}},{"type":"code","lang":"bash","meta":null,"value":"curl -X POST 'https://api.diagrams-technologies.com/v0/oauth2/token'\n-H'Content-Type: application/x-www-form-urlencoded' --data-binary 'grant_type=refresh_token&scope=data&refresh_token=refresh_token_encoded'\n-u\"APPLICATION_ID:APPLICATION_SECRET\"","position":{"start":{"line":45,"column":1,"offset":1514},"end":{"line":49,"column":4,"offset":1772}}},{"type":"paragraph","children":[{"type":"text","value":"For renewal, several possible strategies:","position":{"start":{"line":51,"column":1,"offset":1774},"end":{"line":51,"column":42,"offset":1815}}}],"position":{"start":{"line":51,"column":1,"offset":1774},"end":{"line":51,"column":42,"offset":1815}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Keep the value of the ","position":{"start":{"line":53,"column":3,"offset":1819},"end":{"line":53,"column":25,"offset":1841}}},{"type":"inlineCode","value":"expires_in","position":{"start":{"line":53,"column":25,"offset":1841},"end":{"line":53,"column":37,"offset":1853}}},{"type":"text","value":" field of the token and check it before sending,","position":{"start":{"line":53,"column":37,"offset":1853},"end":{"line":53,"column":85,"offset":1901}}}],"position":{"start":{"line":53,"column":3,"offset":1819},"end":{"line":53,"column":85,"offset":1901}}}],"position":{"start":{"line":53,"column":1,"offset":1817},"end":{"line":53,"column":85,"offset":1901}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Wait until you encounter a 401 error to renew it and retry the call,","position":{"start":{"line":54,"column":3,"offset":1904},"end":{"line":54,"column":71,"offset":1972}}}],"position":{"start":{"line":54,"column":3,"offset":1904},"end":{"line":54,"column":71,"offset":1972}}}],"position":{"start":{"line":54,"column":1,"offset":1902},"end":{"line":54,"column":71,"offset":1972}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Decode the JWT token to extract its expiration date before the call.","position":{"start":{"line":55,"column":3,"offset":1975},"end":{"line":55,"column":71,"offset":2043}}}],"position":{"start":{"line":55,"column":3,"offset":1975},"end":{"line":55,"column":71,"offset":2043}}}],"position":{"start":{"line":55,"column":1,"offset":1973},"end":{"line":55,"column":71,"offset":2043}}}],"position":{"start":{"line":53,"column":1,"offset":1817},"end":{"line":55,"column":71,"offset":2043}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":56,"column":1,"offset":2044}}}}},"__N_SSG":true}