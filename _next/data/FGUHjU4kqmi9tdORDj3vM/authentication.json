{"pageProps":{"entry":{"title":"Authentification","description":"Discover how to authenticate with our API","date":"2023-04-20T14:15:47.659Z","draft":false,"id":"authentification","content":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"API Auth guide","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":17,"offset":16}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":17,"offset":16}}},{"type":"paragraph","children":[{"type":"text","value":"Welcome to the API Authentication Guide!","position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":41,"offset":58}}}],"position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":41,"offset":58}}},{"type":"paragraph","children":[{"type":"text","value":"We're excited to have you onboard and help you get started with sending data to our API.","position":{"start":{"line":5,"column":1,"offset":60},"end":{"line":5,"column":89,"offset":148}}}],"position":{"start":{"line":5,"column":1,"offset":60},"end":{"line":5,"column":89,"offset":148}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"First task !","position":{"start":{"line":7,"column":4,"offset":153},"end":{"line":7,"column":16,"offset":165}}}],"position":{"start":{"line":7,"column":1,"offset":150},"end":{"line":7,"column":16,"offset":165}}},{"type":"paragraph","children":[{"type":"text","value":"To start sending us data, you will need the following informations, ","position":{"start":{"line":9,"column":1,"offset":167},"end":{"line":9,"column":69,"offset":235}}},{"type":"link","title":null,"url":"mailto:support@diagrams-technologies.com?subject=application+credentials+request","children":[{"type":"text","value":"please contact us","position":{"start":{"line":9,"column":70,"offset":236},"end":{"line":9,"column":87,"offset":253}}}],"position":{"start":{"line":9,"column":69,"offset":235},"end":{"line":9,"column":170,"offset":336}}},{"type":"text","value":" if you didn't get them:","position":{"start":{"line":9,"column":170,"offset":336},"end":{"line":9,"column":194,"offset":360}}}],"position":{"start":{"line":9,"column":1,"offset":167},"end":{"line":9,"column":194,"offset":360}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ML_PROJECT","position":{"start":{"line":11,"column":3,"offset":364},"end":{"line":11,"column":15,"offset":376}}},{"type":"text","value":": the code of the anomaly detection project we created for you,","position":{"start":{"line":11,"column":15,"offset":376},"end":{"line":11,"column":78,"offset":439}}}],"position":{"start":{"line":11,"column":3,"offset":364},"end":{"line":11,"column":78,"offset":439}}}],"position":{"start":{"line":11,"column":1,"offset":362},"end":{"line":11,"column":78,"offset":439}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ORGANISATION_ID","position":{"start":{"line":12,"column":3,"offset":442},"end":{"line":12,"column":20,"offset":459}}},{"type":"text","value":": the organisation id of your company in our systems,","position":{"start":{"line":12,"column":20,"offset":459},"end":{"line":12,"column":73,"offset":512}}}],"position":{"start":{"line":12,"column":3,"offset":442},"end":{"line":12,"column":73,"offset":512}}}],"position":{"start":{"line":12,"column":1,"offset":440},"end":{"line":12,"column":73,"offset":512}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"APPLICATION_ID","position":{"start":{"line":13,"column":3,"offset":515},"end":{"line":13,"column":19,"offset":531}}},{"type":"text","value":": the id of the application we created for you,","position":{"start":{"line":13,"column":19,"offset":531},"end":{"line":13,"column":66,"offset":578}}}],"position":{"start":{"line":13,"column":3,"offset":515},"end":{"line":13,"column":66,"offset":578}}}],"position":{"start":{"line":13,"column":1,"offset":513},"end":{"line":13,"column":66,"offset":578}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"APPLICATION_SECRET","position":{"start":{"line":14,"column":3,"offset":581},"end":{"line":14,"column":23,"offset":601}}},{"type":"text","value":": a unique string to keep secret that authentifies you.","position":{"start":{"line":14,"column":23,"offset":601},"end":{"line":14,"column":78,"offset":656}}}],"position":{"start":{"line":14,"column":3,"offset":581},"end":{"line":14,"column":78,"offset":656}}}],"position":{"start":{"line":14,"column":1,"offset":579},"end":{"line":14,"column":78,"offset":656}}}],"position":{"start":{"line":11,"column":1,"offset":362},"end":{"line":14,"column":78,"offset":656}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Generate token","position":{"start":{"line":16,"column":4,"offset":661},"end":{"line":16,"column":18,"offset":675}}}],"position":{"start":{"line":16,"column":1,"offset":658},"end":{"line":16,"column":18,"offset":675}}},{"type":"paragraph","children":[{"type":"text","value":"You can now generate token with request:","position":{"start":{"line":18,"column":1,"offset":677},"end":{"line":18,"column":41,"offset":717}}}],"position":{"start":{"line":18,"column":1,"offset":677},"end":{"line":18,"column":41,"offset":717}}},{"type":"code","lang":"bash","meta":null,"value":"curl -X POST\n'https://api.diagrams-technologies.com/v0/oauth2token'\n-u\"APPLICATION_ID:APPLICATION_SECRET\"\n-H'Content-Type: application/x-www-form-urlencoded' --data-binary 'grant_type=client_credentials'","position":{"start":{"line":20,"column":1,"offset":719},"end":{"line":25,"column":4,"offset":934}}},{"type":"paragraph","children":[{"type":"text","value":"And it's the result of the request.","position":{"start":{"line":27,"column":1,"offset":936},"end":{"line":27,"column":36,"offset":971}}}],"position":{"start":{"line":27,"column":1,"offset":936},"end":{"line":27,"column":36,"offset":971}}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"access_token\": \"xxx.yyy.zzz\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 172800,\n  \"expiration_date\": \"2021-10-27T12:06:28.828Z\",\n  \"refresh_token\": \"xxxyyyzzzz==\",\n  \"refresh_token_expires_in\": 31557600,\n  \"refresh_token_expiration_date\": \"2022-10-25T18:06:28.849Z\"\n}","position":{"start":{"line":29,"column":1,"offset":973},"end":{"line":39,"column":4,"offset":1257}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Validity token","position":{"start":{"line":41,"column":4,"offset":1262},"end":{"line":41,"column":18,"offset":1276}}}],"position":{"start":{"line":41,"column":1,"offset":1259},"end":{"line":41,"column":18,"offset":1276}}},{"type":"paragraph","children":[{"type":"text","value":"The token is only valid for a certain duration (which can change depending on the load), after which it will have to be renewed by creating a new token or by renewing the previous one thanks to the refresh_token associated with it:","position":{"start":{"line":43,"column":1,"offset":1278},"end":{"line":43,"column":232,"offset":1509}}}],"position":{"start":{"line":43,"column":1,"offset":1278},"end":{"line":43,"column":232,"offset":1509}}},{"type":"code","lang":"bash","meta":null,"value":"curl -X POST 'https://api.diagrams-technologies.com/v0/oauth2/token'\n-H'Content-Type: application/x-www-form-urlencoded' --data-binary 'grant_type=refresh_token&scope=data&refresh_token=refresh_token_encoded'\n-u\"APPLICATION_ID:APPLICATION_SECRET\"","position":{"start":{"line":45,"column":1,"offset":1511},"end":{"line":49,"column":4,"offset":1769}}},{"type":"paragraph","children":[{"type":"text","value":"For renewal, several possible strategies:","position":{"start":{"line":51,"column":1,"offset":1771},"end":{"line":51,"column":42,"offset":1812}}}],"position":{"start":{"line":51,"column":1,"offset":1771},"end":{"line":51,"column":42,"offset":1812}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Keep the value of the expires_in field of the token and check it before sending,","position":{"start":{"line":53,"column":3,"offset":1816},"end":{"line":53,"column":83,"offset":1896}}}],"position":{"start":{"line":53,"column":3,"offset":1816},"end":{"line":53,"column":83,"offset":1896}}}],"position":{"start":{"line":53,"column":1,"offset":1814},"end":{"line":53,"column":83,"offset":1896}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Wait to encounter a 401 error to renew it and retry the call,","position":{"start":{"line":54,"column":3,"offset":1899},"end":{"line":54,"column":64,"offset":1960}}}],"position":{"start":{"line":54,"column":3,"offset":1899},"end":{"line":54,"column":64,"offset":1960}}}],"position":{"start":{"line":54,"column":1,"offset":1897},"end":{"line":54,"column":64,"offset":1960}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Decode the JWT token to extract its expiration date before the call.","position":{"start":{"line":55,"column":3,"offset":1963},"end":{"line":55,"column":71,"offset":2031}}}],"position":{"start":{"line":55,"column":3,"offset":1963},"end":{"line":55,"column":71,"offset":2031}}}],"position":{"start":{"line":55,"column":1,"offset":1961},"end":{"line":55,"column":71,"offset":2031}}}],"position":{"start":{"line":53,"column":1,"offset":1814},"end":{"line":55,"column":71,"offset":2031}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":56,"column":1,"offset":2032}}}}},"__N_SSG":true}