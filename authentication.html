<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Authentification - DiagRAMS</title><meta name="description" content="Discover how to authenticate with our API"/><meta name="theme-color" content="#005eb8"/><link rel="canonical" href="https://diagrams-technologies.github.io/api-doc/authentication"/><meta name="author" content="DiagRAMS"/><link rel="icon" type="image/svg+xml" href="/api-doc/images/favicon.svg" sizes="any"/><link rel="icon" type="image/png" href="/api-doc/images/favicon-16.png" sizes="16x16"/><link rel="icon shortcut" type="image/png" href="/api-doc/images/favicon-128.png" sizes="128x128"/><meta name="robots" content="index,follow"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta property="og:locale" content="fr_FR"/><meta property="og:type" content="website"/><meta property="og:url" content="https://diagrams-technologies.github.io/api-doc/authentication"/><meta property="og:title" content="Authentification - DiagRAMS"/><meta property="og:description" content="Discover how to authenticate with our API"/><meta property="og:site_name" content="DiagRAMS"/><meta property="og:image" content="https://diagrams-technologies.github.io/api-doc/images/banner.png"/><meta property="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@diagrams_tech"/><meta name="twitter:creator" content="@diagrams_tech"/><meta property="twitter:url" content="https://diagrams-technologies.github.io/api-doc/authentication"/><meta property="twitter:image" content="https://diagrams-technologies.github.io/api-doc/images/banner.png"/><meta name="next-head-count" content="23"/><link rel="preload" href="https://diagrams-technologies.github.io/api-doc/_next/static/css/01d3d69e612bc871.css" as="style"/><link rel="stylesheet" href="https://diagrams-technologies.github.io/api-doc/_next/static/css/01d3d69e612bc871.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/webpack-297aafb09d9c7a18.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/framework-ce84985cd166733a.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/main-afeabca69b6c4264.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/pages/_app-eba44992c28cdb63.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/3453-c253fb1d2887acb6.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/4344-525936599cdfbb0b.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/chunks/pages/%5B%5B...slug%5D%5D-82990b3242585fc4.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/je6hesTMi04xzq3yNm09a/_buildManifest.js" defer=""></script><script src="https://diagrams-technologies.github.io/api-doc/_next/static/je6hesTMi04xzq3yNm09a/_ssgManifest.js" defer=""></script><style id="__jsx-aae4e85e4e4160b7">.nav-bar.jsx-aae4e85e4e4160b7{background-color:#f7f6f6;width:100%;height:100%;grid-row:1}.bc-image.jsx-aae4e85e4e4160b7{width:300px;height:100px;padding:25px;background-color:white}nav.jsx-aae4e85e4e4160b7{background-color:var(--dark);margin:0 -webkit-calc((var(--column)*3.5));margin:0 -moz-calc((var(--column)*3.5));margin:0 calc((var(--column)*3.5));height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px}nav.jsx-aae4e85e4e4160b7>a.jsx-aae4e85e4e4160b7{padding-left:var(--gutter);padding-left:var(--gutter);border-right:1px solid;padding-left:20px;padding-right:20px;padding-bottom:5px;display:block;border-color:var(--primary)}.selected.jsx-aae4e85e4e4160b7{color:var(--primary)}a.jsx-aae4e85e4e4160b7{text-decoration:none;font-family:"Montserrat",sans-serif!important;font-size:20px;color:var(--light);font-weight:700}nav.jsx-aae4e85e4e4160b7>a.jsx-aae4e85e4e4160b7:hover{color:var(--primary)}</style><style id="__jsx-9979c1479c96a1ce">.root.jsx-9979c1479c96a1ce{color:var(--dark);font-family:var(--headingFont);font-size:var(--giantFontSize);line-height:var(--giantLineHeight);font-weigth:bold;margin:0 0 -webkit-calc(var(--vRythm)*2)0;margin:0 0 -moz-calc(var(--vRythm)*2)0;margin:0 0 calc(var(--vRythm)*2)0;text-align:center}</style><style id="__jsx-40e817c0b5b3cedf">.root.jsx-40e817c0b5b3cedf{margin:0 0 -webkit-calc(var(--vRythm)*.5)0;margin:0 0 -moz-calc(var(--vRythm)*.5)0;margin:0 0 calc(var(--vRythm)*.5)0;color:var(--charcoalgrey)}</style><style id="__jsx-2748119067">small.jsx-2748119067{font-weight:bold}a.icon.jsx-2748119067{display:none;width:-webkit-calc(var(--column)*.9);width:-moz-calc(var(--column)*.9);width:calc(var(--column)*.9);height:-webkit-calc(var(--vRythm)*.9);height:-moz-calc(var(--vRythm)*.9);height:calc(var(--vRythm)*.9);background:var(--quaternary);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:left center;mask-position:left center;-webkit-mask-size:-webkit-calc(var(--vRythm)*.65);mask-size:-webkit-calc(var(--vRythm)*.65);mask-size:-moz-calc(var(--vRythm)*.65);mask-size:calc(var(--vRythm)*.65)}.root.jsx-2748119067:hover a.icon.jsx-2748119067{display:inline-block;-webkit-mask-image:url("/api-doc/images/icons/link.svg");mask-image:url("/api-doc/images/icons/link.svg")}a.icon.jsx-2748119067:target{display:inline-block;-webkit-mask-image:url("/api-doc/images/icons/target.svg");mask-image:url("/api-doc/images/icons/target.svg")}a.icon.jsx-2748119067 span.jsx-2748119067{display:none}</style><style id="__jsx-2b787c392afe59bd">.root.jsx-2b787c392afe59bd{color:var(--dark);font-family:var(--headingFont);font-size:var(--greatFontSize);line-height:var(--greatLineHeight);font-weigth:normal;margin:var(--vRythm)0 0 0}</style><style id="__jsx-d8709a4eaa69899d">.root.jsx-d8709a4eaa69899d{text-decoration:none;font-family:monospace}</style><style id="__jsx-16898f3252c0d92e">.root.jsx-16898f3252c0d92e>:first-child:last-child{margin:0}</style><style id="__jsx-e47ef3b52bba454c">.root.jsx-e47ef3b52bba454c{margin:0 0 var(--vRythm)0}</style><style id="__jsx-2151050009">.root.jsx-2151050009{background-color:var(--light);padding:-webkit-calc(var(--vRythm)*2)var(--gutter);padding:-moz-calc(var(--vRythm)*2)var(--gutter);padding:calc(var(--vRythm)*2)var(--gutter)}@media screen and (min-width:1050px){.root.jsx-2151050009{padding:-webkit-calc(var(--vRythm)*2)-webkit-calc(var(--gutter)*2);padding:-moz-calc(var(--vRythm)*2)-moz-calc(var(--gutter)*2);padding:calc(var(--vRythm)*2)calc(var(--gutter)*2)}}@media screen and (min-width:1400px){.root.jsx-2151050009{padding:-webkit-calc(var(--vRythm)*3)-webkit-calc(var(--gutter)*8);padding:-moz-calc(var(--vRythm)*3)-moz-calc(var(--gutter)*8);padding:calc(var(--vRythm)*3)calc(var(--gutter)*8)}}</style><style id="__jsx-d57f5d33829997f6">p.illustration{float:left;width:var(--block);margin:0 var(--gutter)0 0}img.jsx-d57f5d33829997f6{width:100%;margin:0}.clear.jsx-d57f5d33829997f6{clear:both}</style><style id="__jsx-998358748">.content.jsx-998358748{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;padding:var(--vRythm)var(--gutter)}@media screen and (max-width:749px){.content.jsx-998358748{-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}}@media screen and (min-width:750px)and (max-width:1049px){.content.jsx-998358748{padding:0 var(--gutter);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}}@media screen and (min-width:1050px)and (max-width:1399px){.content.jsx-998358748{width:1050px;margin:0 auto;padding:-webkit-calc(var(--vRythm)*2)-webkit-calc(var(gutter)*2);padding:-moz-calc(var(--vRythm)*2)-moz-calc(var(gutter)*2);padding:calc(var(--vRythm)*2)calc(var(gutter)*2)}}@media screen and (min-width:1400px){.content.jsx-998358748{width:1400px;margin:0 auto;padding:-webkit-calc(var(--vRythm)*2)-webkit-calc(var(gutter)*3);padding:-moz-calc(var(--vRythm)*2)-moz-calc(var(gutter)*3);padding:calc(var(--vRythm)*2)calc(var(gutter)*3)}}</style><style id="__jsx-5c3394cf9175792b">.root.jsx-5c3394cf9175792b{display:block;background-color:#f7f6f6}</style></head><body><div id="__next"><div class="jsx-5c3394cf9175792b root"><div class="jsx-aae4e85e4e4160b7 nav-bar"><nav class="jsx-aae4e85e4e4160b7"><span class="jsx-aae4e85e4e4160b7 bc-image"><img alt="Picture of the author" loading="lazy" width="250" height="50" decoding="async" data-nimg="1" style="color:transparent" src="/api-doc/images/diagrams.png"/></span><a class="jsx-aae4e85e4e4160b7 " href="/api-doc"><span class="jsx-aae4e85e4e4160b7">Home</span></a><a class="jsx-aae4e85e4e4160b7 selected" href="/api-doc/authentication"><span class="jsx-aae4e85e4e4160b7">Authentication</span></a><a class="jsx-aae4e85e4e4160b7 " href="/api-doc/data-bridge"><span class="jsx-aae4e85e4e4160b7">Data bridge</span></a><a class="jsx-aae4e85e4e4160b7 " href="/api-doc/api-reference"><span class="jsx-aae4e85e4e4160b7">API Reference</span></a></nav></div><main class="jsx-998358748 content"><section class="jsx-2151050009 root"><h1 class="jsx-9979c1479c96a1ce root"><span>API Auth guide</span></h1><p class="jsx-40e817c0b5b3cedf root"><span>Welcome to the API Authentication Guide!</span></p><p class="jsx-40e817c0b5b3cedf root"><span>We&#x27;re excited to have you onboard and help you get started with sending data to our API.</span></p><h2 class="jsx-2b787c392afe59bd root"><span class="jsx-2748119067 root"><span>First task !</span> <small class="jsx-2748119067"><a id="first-task" class="jsx-2748119067 icon" href="/api-doc/authentication#first-task"><span class="jsx-2748119067">🔗</span></a></small></span></h2><p class="jsx-40e817c0b5b3cedf root"><span>To start sending us data, you will need:</span></p><ul class="jsx-e47ef3b52bba454c root"><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><code class="jsx-d8709a4eaa69899d root">ML_PROJECT</code></p></li><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><code class="jsx-d8709a4eaa69899d root">ORGANISATION_ID</code></p></li><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><code class="jsx-d8709a4eaa69899d root">APPLICATION_ID</code></p></li><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><code class="jsx-d8709a4eaa69899d root">APPLICATION_SECRET</code></p></li></ul><h2 class="jsx-2b787c392afe59bd root"><span class="jsx-2748119067 root"><span>Generate token</span> <small class="jsx-2748119067"><a id="generate-token" class="jsx-2748119067 icon" href="/api-doc/authentication#generate-token"><span class="jsx-2748119067">🔗</span></a></small></span></h2><p class="jsx-40e817c0b5b3cedf root"><span>You can now generate token with request:</span></p><div style="font-size:calc(var(--mediumFontSize)*0.75)" class="sc-gTRrQi OAbuQ"><span style="font-size:inherit;font-family:inherit;background:#282a36;color:#f8f8f2;border-radius:3px;display:inline;line-height:1.4285714285714286;overflow-x:auto;white-space:pre-wrap;padding:2px 4px"><code>curl -X POST 
&#x27;https://api.diagrams-technologies.com/v0/oauth2token&#x27; 
-u&quot;APPLICATION_ID:APPLICATION_SECRET&quot; 
-H&#x27;Content-Type: application/x-www-form-urlencoded&#x27; --data-binary &#x27;grant_type=client_credentials&#x27;</code></span><button type="button" class="sc-bgqQcB hIqvGD"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#f8f8f2"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div><p class="jsx-40e817c0b5b3cedf root"><span>And it&#x27;s the result of the request.</span></p><div style="font-size:calc(var(--mediumFontSize)*0.75)" class="sc-gTRrQi OAbuQ"><span style="font-size:inherit;font-family:inherit;background:#282a36;color:#f8f8f2;border-radius:3px;display:inline;line-height:1.4285714285714286;overflow-x:auto;white-space:pre-wrap;padding:2px 4px"><code>{
    &quot;access_token&quot;: &quot;xxx.yyy.zzz&quot;,
    &quot;token_type&quot;: &quot;bearer&quot;,
    &quot;expires_in&quot;: 172800,
    &quot;expiration_date&quot;: &quot;2021-10-27T12:06:28.828Z&quot;,
    &quot;refresh_token&quot;: &quot;xxxyyyzzzz==&quot;,
    &quot;refresh_token_expires_in&quot;: 31557600,
    &quot;refresh_token_expiration_date&quot;: &quot;2022-10-25T18:06:28.849Z&quot;
}</code></span><button type="button" class="sc-bgqQcB hIqvGD"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#f8f8f2"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div><h2 class="jsx-2b787c392afe59bd root"><span class="jsx-2748119067 root"><span>Validity token</span> <small class="jsx-2748119067"><a id="validity-token" class="jsx-2748119067 icon" href="/api-doc/authentication#validity-token"><span class="jsx-2748119067">🔗</span></a></small></span></h2><p class="jsx-40e817c0b5b3cedf root"><span>The token is only valid for a certain duration (which can change depending on the load), after which it will have to be renewed by creating a new token or by renewing the previous one thanks to the refresh_token associated with it:</span></p><div style="font-size:calc(var(--mediumFontSize)*0.75)" class="sc-gTRrQi OAbuQ"><span style="font-size:inherit;font-family:inherit;background:#282a36;color:#f8f8f2;border-radius:3px;display:inline;line-height:1.4285714285714286;overflow-x:auto;white-space:pre-wrap;padding:2px 4px"><code>curl -X POST &#x27;https://api.diagrams-technologies.com/v0/oauth2/token&#x27; 
-H&#x27;Content-Type: application/x-www-form-urlencoded&#x27; --data-binary &#x27;grant_type=refresh_token&amp;scope=data&amp;refresh_token=refresh_token_encoded&#x27; 
-u&quot;APPLICATION_ID:APPLICATION_SECRET&quot;</code></span><button type="button" class="sc-bgqQcB hIqvGD"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#f8f8f2"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div><p class="jsx-40e817c0b5b3cedf root"><span>For renewal, several possible strategies:</span></p><ul class="jsx-e47ef3b52bba454c root"><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><span>Keep the value of the expires_in field of the token and check it before sending,</span></p></li><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><span>Wait to encounter a 401 error to renew it and retry the call,</span></p></li><li class="jsx-16898f3252c0d92e root"><p class="jsx-40e817c0b5b3cedf root"><span>Decode the JWT token to extract its expiration date before the call.</span></p></li></ul><div class="jsx-d57f5d33829997f6 clear"></div></section></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"entry":{"title":"Authentification","description":"Discover how to authenticate with our API","date":"2023-04-20T14:15:47.659Z","draft":false,"id":"authentification","content":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"API Auth guide","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":17,"offset":16}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":17,"offset":16}}},{"type":"paragraph","children":[{"type":"text","value":"Welcome to the API Authentication Guide!","position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":41,"offset":58}}}],"position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":41,"offset":58}}},{"type":"paragraph","children":[{"type":"text","value":"We're excited to have you onboard and help you get started with sending data to our API.","position":{"start":{"line":5,"column":1,"offset":60},"end":{"line":5,"column":89,"offset":148}}}],"position":{"start":{"line":5,"column":1,"offset":60},"end":{"line":5,"column":89,"offset":148}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"First task !","position":{"start":{"line":7,"column":4,"offset":153},"end":{"line":7,"column":16,"offset":165}}}],"position":{"start":{"line":7,"column":1,"offset":150},"end":{"line":7,"column":16,"offset":165}}},{"type":"paragraph","children":[{"type":"text","value":"To start sending us data, you will need:","position":{"start":{"line":9,"column":1,"offset":167},"end":{"line":9,"column":41,"offset":207}}}],"position":{"start":{"line":9,"column":1,"offset":167},"end":{"line":9,"column":41,"offset":207}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ML_PROJECT","position":{"start":{"line":11,"column":3,"offset":221},"end":{"line":11,"column":15,"offset":233}}}],"position":{"start":{"line":11,"column":3,"offset":221},"end":{"line":11,"column":15,"offset":233}}}],"position":{"start":{"line":11,"column":1,"offset":219},"end":{"line":11,"column":15,"offset":233}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ORGANISATION_ID","position":{"start":{"line":12,"column":3,"offset":236},"end":{"line":12,"column":20,"offset":253}}}],"position":{"start":{"line":12,"column":3,"offset":236},"end":{"line":12,"column":20,"offset":253}}}],"position":{"start":{"line":12,"column":1,"offset":234},"end":{"line":12,"column":20,"offset":253}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"APPLICATION_ID","position":{"start":{"line":13,"column":3,"offset":256},"end":{"line":13,"column":19,"offset":272}}}],"position":{"start":{"line":13,"column":3,"offset":256},"end":{"line":13,"column":19,"offset":272}}}],"position":{"start":{"line":13,"column":1,"offset":254},"end":{"line":13,"column":19,"offset":272}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"APPLICATION_SECRET","position":{"start":{"line":14,"column":3,"offset":275},"end":{"line":14,"column":23,"offset":295}}}],"position":{"start":{"line":14,"column":3,"offset":275},"end":{"line":14,"column":23,"offset":295}}}],"position":{"start":{"line":14,"column":1,"offset":273},"end":{"line":14,"column":23,"offset":295}}}],"position":{"start":{"line":11,"column":1,"offset":219},"end":{"line":14,"column":23,"offset":295}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Generate token","position":{"start":{"line":16,"column":4,"offset":300},"end":{"line":16,"column":18,"offset":314}}}],"position":{"start":{"line":16,"column":1,"offset":297},"end":{"line":16,"column":18,"offset":314}}},{"type":"paragraph","children":[{"type":"text","value":"You can now generate token with request:","position":{"start":{"line":18,"column":1,"offset":316},"end":{"line":18,"column":41,"offset":356}}}],"position":{"start":{"line":18,"column":1,"offset":316},"end":{"line":18,"column":41,"offset":356}}},{"type":"code","lang":"bash","meta":null,"value":"curl -X POST \n'https://api.diagrams-technologies.com/v0/oauth2token' \n-u\"APPLICATION_ID:APPLICATION_SECRET\" \n-H'Content-Type: application/x-www-form-urlencoded' --data-binary 'grant_type=client_credentials'","position":{"start":{"line":20,"column":1,"offset":368},"end":{"line":25,"column":4,"offset":587}}},{"type":"paragraph","children":[{"type":"text","value":"And it's the result of the request.","position":{"start":{"line":27,"column":1,"offset":599},"end":{"line":27,"column":36,"offset":634}}}],"position":{"start":{"line":27,"column":1,"offset":599},"end":{"line":27,"column":36,"offset":634}}},{"type":"code","lang":"json","meta":null,"value":"{\n    \"access_token\": \"xxx.yyy.zzz\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 172800,\n    \"expiration_date\": \"2021-10-27T12:06:28.828Z\",\n    \"refresh_token\": \"xxxyyyzzzz==\",\n    \"refresh_token_expires_in\": 31557600,\n    \"refresh_token_expiration_date\": \"2022-10-25T18:06:28.849Z\"\n}","position":{"start":{"line":29,"column":1,"offset":646},"end":{"line":39,"column":4,"offset":945}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Validity token","position":{"start":{"line":41,"column":4,"offset":950},"end":{"line":41,"column":18,"offset":964}}}],"position":{"start":{"line":41,"column":1,"offset":947},"end":{"line":41,"column":18,"offset":964}}},{"type":"paragraph","children":[{"type":"text","value":"The token is only valid for a certain duration (which can change depending on the load), after which it will have to be renewed by creating a new token or by renewing the previous one thanks to the refresh_token associated with it:","position":{"start":{"line":43,"column":1,"offset":966},"end":{"line":43,"column":232,"offset":1197}}}],"position":{"start":{"line":43,"column":1,"offset":966},"end":{"line":43,"column":232,"offset":1197}}},{"type":"code","lang":"bash","meta":null,"value":"curl -X POST 'https://api.diagrams-technologies.com/v0/oauth2/token' \n-H'Content-Type: application/x-www-form-urlencoded' --data-binary 'grant_type=refresh_token\u0026scope=data\u0026refresh_token=refresh_token_encoded' \n-u\"APPLICATION_ID:APPLICATION_SECRET\"","position":{"start":{"line":45,"column":1,"offset":1209},"end":{"line":49,"column":4,"offset":1470}}},{"type":"paragraph","children":[{"type":"text","value":"For renewal, several possible strategies:","position":{"start":{"line":51,"column":1,"offset":1482},"end":{"line":51,"column":42,"offset":1523}}}],"position":{"start":{"line":51,"column":1,"offset":1482},"end":{"line":51,"column":42,"offset":1523}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Keep the value of the expires_in field of the token and check it before sending,","position":{"start":{"line":53,"column":3,"offset":1537},"end":{"line":53,"column":83,"offset":1617}}}],"position":{"start":{"line":53,"column":3,"offset":1537},"end":{"line":53,"column":83,"offset":1617}}}],"position":{"start":{"line":53,"column":1,"offset":1535},"end":{"line":53,"column":83,"offset":1617}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Wait to encounter a 401 error to renew it and retry the call,","position":{"start":{"line":54,"column":3,"offset":1620},"end":{"line":54,"column":64,"offset":1681}}}],"position":{"start":{"line":54,"column":3,"offset":1620},"end":{"line":54,"column":64,"offset":1681}}}],"position":{"start":{"line":54,"column":1,"offset":1618},"end":{"line":54,"column":64,"offset":1681}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Decode the JWT token to extract its expiration date before the call.","position":{"start":{"line":55,"column":3,"offset":1684},"end":{"line":55,"column":71,"offset":1752}}}],"position":{"start":{"line":55,"column":3,"offset":1684},"end":{"line":55,"column":71,"offset":1752}}}],"position":{"start":{"line":55,"column":1,"offset":1682},"end":{"line":55,"column":71,"offset":1752}}}],"position":{"start":{"line":53,"column":1,"offset":1535},"end":{"line":55,"column":71,"offset":1752}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":56,"column":1,"offset":1753}}}}},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["authentication"]},"buildId":"je6hesTMi04xzq3yNm09a","assetPrefix":"https://diagrams-technologies.github.io/api-doc","runtimeConfig":{"environment":"production","baseURL":"https://diagrams-technologies.github.io","basePath":"/api-doc","assetPrefix":"https://diagrams-technologies.github.io/api-doc"},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>